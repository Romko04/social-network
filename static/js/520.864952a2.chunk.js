"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[520],{2520:function(n,e,s){s.r(e),s.d(e,{default:function(){return v}});var r=s(8683),o=s(9101),i=s(5458),l=s(2791),t=s(9439),u=s(184),a=function(n){for(var e=Math.ceil(n.totalCount/n.pageSize),s=(0,l.useState)(Math.ceil(n.currentPage/10)),r=(0,t.Z)(s,2),o=r[0],i=r[1],a=Math.ceil(e/10),c=10*(o-1)-1,g=10*o,f=[],d=1;d<=e;d++)f.push(d);var h=f.filter((function(n){return n>c&&n<g})).map((function(e){return(0,u.jsx)("span",{onClick:function(){n.onChangePage(e)},className:e===n.currentPage?"active pagination__item":"pagination__item",children:e},e)}));return(0,u.jsxs)("div",{className:"pagination",children:[o>1?(0,u.jsx)("button",{onClick:function(){return i(o-1)},children:"Left"}):null,h,a>o?(0,u.jsx)("button",{onClick:function(){return i(o+1)},children:"Right"}):null]})},c=s(1087),g=function(n){var e=l.createRef();return(0,u.jsx)("div",{className:"user",children:(0,u.jsxs)("div",{className:"user__content",children:[(0,u.jsx)(c.OL,{to:"/Profile/"+n.id,children:(0,u.jsx)("img",{className:"user__img",src:n.urlImg?n.urlImg:"https://th.bing.com/th/id/R.aa0dc156cb44d0a2080ad0dd36ea216e?rik=8P1Q2UFnhLHE8g&riu=http%3a%2f%2fcdn.onlinewebfonts.com%2fsvg%2fdownload_80352.png&ehk=icgjtf%2fljaB6v78NlA0ABgusrHm5aqDMlI44ob6HvUc%3d&risl=&pid=ImgRaw&r=0",alt:"img"})}),(0,u.jsx)("div",{className:"user__name",children:n.name}),(0,u.jsxs)("div",{className:"user__residence",children:[n.country," ",n.city]}),n.following?(0,u.jsx)("button",{disabled:n.followingProgress.some((function(e){return e===n.id})),ref:e,onClick:function(){n.unFollowUserThunk(n.id)},"data-id":n.id,className:"user__btn",children:"Unfollow"}):(0,u.jsx)("button",{disabled:n.followingProgress.some((function(e){return e===n.id})),ref:e,"data-id":n.id,onClick:function(){n.followUserThunk(n.id)},className:"user__btn",children:"Follow"})]})})},f=function(n){var e=n.users.map((function(e){return(0,u.jsx)(g,{unFollowUserThunk:n.unFollowUserThunk,followUserThunk:n.followUserThunk,followingProgress:n.followingProgres,followingInProgress:n.followingInProgress,onFollowUser:n.onFollowUser,unFollowUser:n.unFollowUser,following:e.followed,id:e.id,urlImg:e.photos.small,name:e.name,country:e.country,city:e.city},e.id)}));return(0,u.jsxs)("div",{className:"users",children:[(0,u.jsx)("div",{className:"pagination",children:(0,u.jsx)(a,(0,r.Z)({},n))}),(0,u.jsx)("div",{className:"users__items",children:(0,u.jsx)("div",{className:"users__item",children:e})})]})},d=s(7),h=s(1548),m=s(7781),w=function(n){return n.usersPage.users},p=function(n){return n.usersPage.pageSize},j=function(n){return n.usersPage.isFetching},P=function(n){return n.usersPage.totalCount},_=function(n){return n.usersPage.currentPage},k=function(n){return n.usersPage.followingProgres},v=(0,m.qC)(h.D,(0,o.$j)((function(n){return{users:w(n),pageSize:p(n),isFetching:j(n),totalCount:P(n),currentPage:_(n),followingProgres:k(n)}}),{onFollowUser:i.bs,unFollowUser:i.wQ,getUsersThunk:i.aH,followingInProgress:i.Gv,followUserThunk:i.qh,unFollowUserThunk:i.vU}))((function(n){(0,l.useEffect)((function(){n.getUsersThunk(1,n.pageSize)}),[]);return(0,u.jsx)("div",{className:"users",children:n.isFetching?(0,u.jsx)(d.Z,{}):(0,u.jsx)(f,(0,r.Z)({onChangePage:function(e){n.getUsersThunk(e,n.pageSize)}},n))})}))}}]);
//# sourceMappingURL=520.864952a2.chunk.js.map